# Instance configuration
INSTANCE_ID=1
TCP_PORT=9001
HTTP_PORT=3001

# PostgreSQL
DATABASE_URL=postgresql://discord:discord@localhost:5432/babydiscord
DB_POOL_MAX=20
DB_IDLE_TIMEOUT_MS=30000
DB_CONNECTION_TIMEOUT_MS=2000

# Redis/Valkey
REDIS_URL=redis://localhost:6379
REDIS_MAX_RETRIES=3

# Logging
LOG_LEVEL=debug
NODE_ENV=development

# Message Retention
MAX_MESSAGES_PER_ROOM=10
MAX_MESSAGE_AGE_HOURS=0
CLEANUP_INTERVAL_MINUTES=5
ARCHIVE_BEFORE_DELETE=false
ARCHIVE_DIRECTORY=./archive

# Alert Thresholds - Pub/Sub Latency
PUBSUB_LATENCY_WARNING_MS=100
PUBSUB_LATENCY_CRITICAL_MS=500

# Alert Thresholds - Queue Depth
QUEUE_DEPTH_WARNING=100
QUEUE_DEPTH_CRITICAL=500

# Alert Thresholds - Database
DB_WAIT_WARNING_MS=50
DB_WAIT_CRITICAL_MS=200
MESSAGES_TABLE_WARNING_MB=5
MESSAGES_TABLE_CRITICAL_MB=20

# Alert Thresholds - Cache
HISTORY_CACHE_TARGET_PCT=95
HISTORY_CACHE_WARNING_PCT=90

# Graceful Shutdown
SHUTDOWN_GRACE_PERIOD_MS=10000
SHUTDOWN_WARNING_INTERVAL_MS=2000
DRAIN_CONNECTIONS=true
